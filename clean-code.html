<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Strip comments from HTML, CSS, and JavaScript instantly. Free, client-side code comment remover reduces file size while preserving functionality.">
    <meta name="keywords" content="comment stripper, code minifier, remove comments, HTML CSS JS, code optimization, file size reduction">
    <meta name="author" content="Code Comment Stripper">
    <meta name="theme-color" content="#0052cc">
    <meta property="og:title" content="Code Comment Stripper - Remove Comments from HTML, CSS, JS">
    <meta property="og:description" content="Instantly strip all comments from your HTML, CSS, and JavaScript code. Free, 100% client-side processing.">
    <meta property="og:type" content="website">
    <title>Code Comment Stripper - Free Online Tool</title>
    <style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html, body {
    height: 100%;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    background: #ffffff;
    color: #1a1a1a;
    line-height: 1.6;
}

body {
    display: flex;
    flex-direction: column;
    min-height: 100vh;
}

.header {
    padding: 16px 32px;
    background: #ffffff;
    border-bottom: 3px solid #0052cc;
    flex-shrink: 0;
}

.header h1 {
    font-size: 24px;
    font-weight: 900;
    color: #0052cc;
    margin-bottom: 4px;
}

.header p {
    font-size: 13px;
    color: #666666;
    font-weight: 400;
}

.main-content {
    flex: 0 0 auto;
    padding: 20px 32px;
    display: flex;
    justify-content: center;
}

.tool-wrapper {
    background: #ffffff;
    border: 2px solid #0052cc;
    border-radius: 10px;
    padding: 24px;
    width: 100%;
    max-width: 1300px;
    box-shadow: 0 4px 16px rgba(0, 82, 204, 0.1);
}

.top-controls {
    display: grid;
    grid-template-columns: 200px 1fr;
    gap: 20px;
    margin-bottom: 20px;
    align-items: flex-end;
}

.form-group {
    margin-bottom: 0;
}

.form-label {
    display: block;
    font-size: 12px;
    font-weight: 700;
    color: #333333;
    margin-bottom: 6px;
    text-transform: uppercase;
    letter-spacing: 0.3px;
}

.language-select {
    width: 100%;
    padding: 10px 12px;
    background: #ffffff;
    border: 2px solid #0052cc;
    border-radius: 6px;
    color: #000000;
    font-size: 13px;
    cursor: pointer;
    font-family: inherit;
    font-weight: 600;
}

.language-select:hover {
    border-color: #003d99;
    background: #f5f9ff;
}

.language-select:focus {
    outline: 2px solid #0052cc;
    outline-offset: 2px;
    border-color: #0052cc;
}

.language-select option {
    background: #ffffff;
    color: #000000;
}

.code-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-bottom: 16px;
}

.code-section {
    display: flex;
    flex-direction: column;
}

.code-label {
    font-size: 12px;
    font-weight: 700;
    color: #333333;
    margin-bottom: 8px;
    text-transform: uppercase;
    letter-spacing: 0.3px;
}

.input-wrapper {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.upload-zone {
    border: 2px dashed #0052cc;
    border-radius: 6px;
    padding: 12px;
    text-align: center;
    cursor: pointer;
    transition: all 0.2s ease;
    background: #f5f9ff;
}

.upload-zone:hover {
    border-color: #003d99;
    background: #e8f1ff;
}

.upload-zone:focus {
    outline: 2px solid #0052cc;
    outline-offset: 2px;
    border-color: #003d99;
}

.upload-zone:focus-within {
    outline: 2px solid #0052cc;
    outline-offset: 2px;
    border-color: #003d99;
}

.upload-zone.dragover {
    border-color: #003d99;
    background: #e8f1ff;
}

.upload-text-main {
    font-size: 12px;
    color: #0052cc;
    margin-bottom: 2px;
    font-weight: 700;
}

.upload-text-sub {
    font-size: 10px;
    color: #666666;
    font-weight: 400;
}

input[type="file"] {
    display: none;
}

textarea {
    width: 100%;
    height: 200px;
    padding: 10px;
    background: #ffffff;
    border: 2px solid #0052cc;
    border-radius: 6px;
    color: #000000;
    font-family: 'Monaco', 'Menlo', 'Courier New', monospace;
    font-size: 12px;
    line-height: 1.5;
    resize: none;
    transition: all 0.2s ease;
}

textarea:hover {
    border-color: #003d99;
    background: #f5f9ff;
}

textarea:focus {
    outline: 2px solid #0052cc;
    outline-offset: 2px;
    border-color: #0052cc;
    background: #f5f9ff;
}

textarea::placeholder {
    color: #999999;
    font-weight: 400;
}

.button-group {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    margin-top: 10px;
}

button {
    padding: 10px 14px;
    background: #0052cc;
    color: #ffffff;
    border: 2px solid #0052cc;
    border-radius: 6px;
    font-size: 12px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s ease;
    text-transform: uppercase;
    letter-spacing: 0.2px;
    font-family: inherit;
    min-height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
}

button:hover {
    background: #003d99;
    border-color: #003d99;
}

button:active {
    background: #002d6b;
    border-color: #002d6b;
}

button:focus {
    outline: 2px solid #0052cc;
    outline-offset: 2px;
}

button:disabled {
    background: #cccccc;
    border-color: #cccccc;
    color: #666666;
    cursor: not-allowed;
}

button.secondary {
    background: #ffffff;
    color: #0052cc;
    border: 2px solid #0052cc;
}

button.secondary:hover {
    background: #f5f9ff;
    border-color: #003d99;
    color: #003d99;
}

button.secondary:active {
    background: #e8f1ff;
}

.alert {
    padding: 10px 12px;
    border-radius: 6px;
    font-size: 12px;
    margin-bottom: 12px;
    display: none;
    font-weight: 600;
    border-left: 3px solid;
}

.alert.show {
    display: block;
}

.alert.success {
    background: #ecfdf5;
    border-color: #059669;
    color: #065f46;
}

.alert.error {
    background: #fef2f2;
    border-color: #dc2626;
    color: #7f1d1d;
}

.alert.info {
    background: #eff6ff;
    border-color: #0052cc;
    color: #003d99;
}

.loading {
    display: none;
    text-align: center;
    color: #0052cc;
    font-size: 12px;
    margin: 8px 0;
    font-weight: 600;
}

.spinner {
    display: inline-block;
    width: 12px;
    height: 12px;
    border: 2px solid #e0e7ff;
    border-top-color: #0052cc;
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
    margin-right: 6px;
    vertical-align: middle;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

#stats {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    margin-top: 10px;
}

.stat-card {
    background: #f5f9ff;
    border: 2px solid #0052cc;
    border-radius: 6px;
    padding: 10px;
    text-align: center;
}

.stat-label {
    font-size: 10px;
    color: #666666;
    text-transform: uppercase;
    letter-spacing: 0.2px;
    margin-bottom: 4px;
    font-weight: 700;
}

.stat-value {
    font-size: 15px;
    font-weight: 900;
    color: #0052cc;
    font-family: 'Monaco', monospace;
}

.stat-reduction {
    font-size: 10px;
    color: #059669;
    margin-top: 3px;
    font-weight: 700;
}

#outputSection {
    display: none;
}

#outputSection.active {
    display: block;
}

.footer {
    flex: 1 0 auto;
    padding: 32px;
    background: #f8f9ff;
    border-top: 3px solid #0052cc;
    overflow-y: auto;
}

.seo-content {
    max-width: 900px;
    margin: 0 auto;
}

details {
    margin-bottom: 16px;
}

summary {
    cursor: pointer;
    padding: 12px 14px;
    background: #ffffff;
    border: 2px solid #0052cc;
    border-radius: 6px;
    font-weight: 700;
    font-size: 12px;
    color: #000000;
    user-select: none;
    transition: all 0.2s ease;
    text-transform: uppercase;
    letter-spacing: 0.2px;
    min-height: 40px;
    display: flex;
    align-items: center;
}

summary:hover {
    background: #f5f9ff;
    border-color: #003d99;
}

summary:focus {
    outline: 2px solid #0052cc;
    outline-offset: 2px;
}

.seo-content-inner {
    padding: 14px;
    background: #ffffff;
    border: 2px solid #0052cc;
    border-top: none;
    border-radius: 0 0 6px 6px;
    font-size: 13px;
    color: #333333;
    line-height: 1.6;
    font-weight: 400;
}

.seo-content-inner h3 {
    color: #0052cc;
    margin-top: 12px;
    margin-bottom: 8px;
    font-size: 12px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.2px;
}

.seo-content-inner h3:first-child {
    margin-top: 0;
}

.seo-content-inner ul {
    margin-left: 20px;
    margin-bottom: 10px;
}

.seo-content-inner li {
    margin-bottom: 6px;
    color: #333333;
    font-weight: 400;
}

.seo-content-inner p {
    margin-bottom: 10px;
    color: #333333;
    font-weight: 400;
}

.seo-content-inner code {
    background: #f5f9ff;
    padding: 2px 6px;
    border-radius: 3px;
    font-family: 'Monaco', monospace;
    color: #0052cc;
    font-size: 11px;
    font-weight: 700;
    border: 1px solid #0052cc;
}

/* Responsive Design */
@media (max-width: 1200px) {
    .tool-wrapper {
        padding: 20px;
    }

    .top-controls {
        grid-template-columns: 180px 1fr;
        gap: 16px;
    }
}

@media (max-width: 1024px) {
    .main-content {
        padding: 16px 20px;
    }

    .tool-wrapper {
        padding: 18px;
    }

    .code-container {
        gap: 16px;
    }

    textarea {
        height: 180px;
    }

    .top-controls {
        grid-template-columns: 1fr;
        gap: 12px;
    }
}

@media (max-width: 768px) {
    .header {
        padding: 12px 16px;
    }

    .header h1 {
        font-size: 20px;
    }

    .header p {
        font-size: 11px;
    }

    .main-content {
        padding: 12px 12px;
    }

    .tool-wrapper {
        padding: 14px;
    }

    .code-container {
        grid-template-columns: 1fr;
        gap: 12px;
        margin-bottom: 12px;
    }

    textarea {
        height: 160px;
    }

    .button-group {
        gap: 8px;
        margin-top: 8px;
    }

    button {
        padding: 9px 12px;
        font-size: 11px;
        min-height: 36px;
    }

    .top-controls {
        grid-template-columns: 1fr;
        gap: 10px;
    }

    .footer {
        padding: 20px 16px;
    }
}

@media (max-width: 600px) {
    .header {
        padding: 10px 12px;
    }

    .header h1 {
        font-size: 18px;
    }

    .header p {
        font-size: 10px;
    }

    .main-content {
        padding: 10px;
    }

    .tool-wrapper {
        padding: 12px;
    }

    textarea {
        height: 140px;
        font-size: 11px;
        padding: 8px;
    }

    button {
        padding: 8px 10px;
        font-size: 10px;
        min-height: 34px;
    }

    .code-label {
        font-size: 11px;
    }

    .form-label {
        font-size: 11px;
    }
}

@media (prefers-reduced-motion: reduce) {
    button:hover {
        transform: none;
    }

    .upload-zone:hover {
        transform: none;
    }
}
    </style>
</head>
<body>
    <div class="header">
        <h1>Strip Comments from Code</h1>
        <p>Remove HTML, CSS, and JavaScript comments instantly • 100% client-side</p>
    </div>

    <div class="main-content">
        <div class="tool-wrapper">
            <div class="alert" id="alert"></div>

            <div class="top-controls">
                <div class="form-group">
                    <label for="languageSelect" class="form-label">Language</label>
                    <select class="language-select" id="languageSelect">
                        <option value="auto">Auto-Detect</option>
                        <option value="html">HTML</option>
                        <option value="css">CSS</option>
                        <option value="javascript">JavaScript</option>
                    </select>
                </div>
            </div>

            <div class="code-container">
                <div class="code-section">
                    <label class="code-label">Your Code</label>
                    <div class="input-wrapper">
                        <div class="upload-zone" id="uploadZone" tabindex="0" role="button" aria-label="Upload file or drag and drop">
                            <p class="upload-text-main">Click or drag</p>
                            <p class="upload-text-sub">.html .css .js</p>
                            <input type="file" id="fileInput" accept=".html,.css,.js,text/html,text/css,text/javascript">
                        </div>
                        <textarea id="inputCode" placeholder="Paste code here..." aria-label="Code input"></textarea>
                        <div class="button-group">
                            <button onclick="stripComments()" aria-label="Strip comments">Strip</button>
                            <button class="secondary" onclick="clearAll()" aria-label="Clear all">Clear</button>
                        </div>
                    </div>
                </div>

                <div class="code-section">
                    <label class="code-label">Result</label>
                    <div class="loading" id="loading" aria-live="polite">
                        <span class="spinner" aria-hidden="true"></span>Processing...
                    </div>
                    <textarea id="outputCode" placeholder="Stripped code appears here..." readonly aria-label="Code output"></textarea>
                    <div id="stats" style="display: none;" aria-live="polite">
                        <div class="stat-card">
                            <div class="stat-label">Before</div>
                            <div class="stat-value" id="beforeSize">0 B</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">After</div>
                            <div class="stat-value" id="afterSize">0 B</div>
                            <div class="stat-reduction" id="reduction">0%</div>
                        </div>
                    </div>
                    <div class="button-group">
                        <button onclick="copyToClipboard()" aria-label="Copy output">Copy</button>
                        <button class="secondary" onclick="downloadCode()" aria-label="Download">Download</button>
                    </div>
                </div>
            </div>

            <div id="outputSection" class="output-section"></div>
        </div>
    </div>

    <div class="footer">
        <div class="seo-content">
            <details>
                <summary>What is Comment Stripping?</summary>
                <div class="seo-content-inner">
                    <p>Comment stripping removes all non-functional comments from HTML, CSS, and JavaScript while preserving code functionality. This reduces file size and improves performance for production environments.</p>
                </div>
            </details>

            <details>
                <summary>Why Remove Comments?</summary>
                <div class="seo-content-inner">
                    <h3>Benefits</h3>
                    <ul>
                        <li><strong>Smaller Files:</strong> Reduce 5-20% of code size</li>
                        <li><strong>Faster Loading:</strong> Quicker downloads and rendering</li>
                        <li><strong>Better SEO:</strong> Improved page load speed metrics</li>
                        <li><strong>Code Protection:</strong> Hide implementation details</li>
                        <li><strong>Lower Costs:</strong> Reduced bandwidth usage</li>
                    </ul>
                </div>
            </details>

            <details>
                <summary>How It Works</summary>
                <div class="seo-content-inner">
                    <h3>HTML</h3>
                    <p>Removes <code>&lt;!-- --&gt;</code> comments safely</p>
                    <h3>CSS</h3>
                    <p>Removes <code>/* */</code> and <code>//</code> comments</p>
                    <h3>JavaScript</h3>
                    <p>Intelligently removes comments while preserving strings and regex</p>
                    <h3>Privacy</h3>
                    <p>100% client-side • Your code never leaves your device</p>
                </div>
            </details>

            <details>
                <summary>Use Cases</summary>
                <div class="seo-content-inner">
                    <ul>
                        <li>Pre-deployment code cleanup</li>
                        <li>Code obfuscation and protection</li>
                        <li>Performance optimization pipelines</li>
                        <li>Batch file processing</li>
                        <li>API response optimization</li>
                        <li>Minification preparation</li>
                    </ul>
                </div>
            </details>

            <details>
                <summary>Technical Details</summary>
                <div class="seo-content-inner">
                    <h3>What We Preserve</h3>
                    <ul>
                        <li>All functional code syntax</li>
                        <li>String literals and templates</li>
                        <li>Regular expressions</li>
                        <li>Code structure</li>
                        <li>URL protocols <code>//</code></li>
                    </ul>
                    <h3>Support</h3>
                    <ul>
                        <li>HTML5 with DOCTYPE</li>
                        <li>CSS3 with media queries</li>
                        <li>JavaScript ES5-ES2023</li>
                        <li>Auto-detection</li>
                        <li>Up to 50MB
files</li>
</ul>
</div>
</details>
</div>
</div>
    <script>
       function stripAllComments(code) {
    let result = '';
    let i = 0;

    while (i < code.length) {
        // Check for HTML comments
        if (code.substr(i, 4) === '<!--') {
            let end = code.indexOf('-->', i + 4);
            if (end !== -1) {
                i = end + 3;
                continue;
            }
        }

        // Check for <style> block
        if (code.substr(i, 6).toLowerCase() === '<style') {
            let styleEnd = code.toLowerCase().indexOf('</style>', i);
            if (styleEnd !== -1) {
                let styleContent = code.substring(i, styleEnd + 8);
                // Find where the actual CSS starts (after >)
                let cssStart = styleContent.indexOf('>') + 1;
                let cssEnd = styleContent.lastIndexOf('</style>');
                let css = styleContent.substring(cssStart, cssEnd);
                
                // Strip CSS comments from the content
                css = stripCSSCommentsOnly(css);
                
                // Reconstruct the style block
                result += styleContent.substring(0, cssStart) + css + '</style>';
                i = styleEnd + 8;
                continue;
            }
        }

        // Check for <script> block
        if (code.substr(i, 7).toLowerCase() === '<script') {
            let scriptEnd = code.toLowerCase().indexOf('</script>', i);
            if (scriptEnd !== -1) {
                let scriptContent = code.substring(i, scriptEnd + 9);
                // Find where the actual JS starts (after >)
                let jsStart = scriptContent.indexOf('>') + 1;
                let jsEnd = scriptContent.lastIndexOf('</script>');
                let js = scriptContent.substring(jsStart, jsEnd);
                
                // Strip JS comments from the content
                js = stripJSCommentsOnly(js);
                
                // Reconstruct the script block
                result += scriptContent.substring(0, jsStart) + js + '</script>';
                i = scriptEnd + 9;
                continue;
            }
        }

        result += code[i];
        i++;
    }

    return result;
}

function stripCSSCommentsOnly(code) {
    let result = '';
    let i = 0;

    while (i < code.length) {
        // Check for block comment /* */
        if (code[i] === '/' && code[i + 1] === '*') {
            let end = code.indexOf('*/', i + 2);
            if (end !== -1) {
                i = end + 2;
                continue;
            }
        }

        // Check for line comment //
        if (code[i] === '/' && code[i + 1] === '/') {
            let end = code.indexOf('\n', i);
            if (end === -1) {
                break;
            }
            i = end + 1;
            result += '\n';
            continue;
        }

        result += code[i];
        i++;
    }

    return result;
}

function stripJSCommentsOnly(code) {
    let result = '';
    let inString = false;
    let stringChar = '';
    let inTemplate = false;
    let i = 0;

    while (i < code.length) {
        const char = code[i];
        const nextChar = code[i + 1];
        const prevChar = i > 0 ? code[i - 1] : '';

        // Handle template literals
        if (char === '`' && (i === 0 || prevChar !== '\\')) {
            inTemplate = !inTemplate;
            result += char;
            i++;
            continue;
        }

        if (inTemplate) {
            result += char;
            i++;
            continue;
        }

        // Handle string literals
        if ((char === '"' || char === "'" || char === '`') && (i === 0 || prevChar !== '\\')) {
            if (!inString) {
                inString = true;
                stringChar = char;
            } else if (char === stringChar) {
                inString = false;
            }
            result += char;
            i++;
            continue;
        }

        if (inString) {
            result += char;
            i++;
            continue;
        }

        // Handle block comments /* */
        if (char === '/' && nextChar === '*') {
            let end = code.indexOf('*/', i + 2);
            if (end !== -1) {
                i = end + 2;
                continue;
            } else {
                break;
            }
        }

        // Handle line comments //
        if (char === '/' && nextChar === '/') {
            let end = code.indexOf('\n', i);
            if (end === -1) {
                break;
            }
            i = end + 1;
            result += '\n';
            continue;
        }

        result += char;
        i++;
    }

    return result;
}

// REPLACE YOUR stripComments() FUNCTION WITH THIS:
function stripComments() {
    const code = inputCode.value.trim();
    if (!code) {
        showAlert('Please paste or upload code first', 'error');
        return;
    }

    loading.style.display = 'block';
    outputSection.classList.remove('active');

    setTimeout(() => {
        try {
            // Use the new mixed-content stripper
            const stripped = stripAllComments(code);
            outputCode.value = stripped;
            updateStats(code, stripped);
            outputSection.classList.add('active');
            showAlert('Comments stripped successfully (auto-detected HTML/CSS/JS)', 'success');
        } catch (e) {
            showAlert('Error processing code: ' + e.message, 'error');
        }
        loading.style.display = 'none';
    }, 100);
}

// YOU CAN ALSO REMOVE THE languageSelect DROPDOWN FROM YOUR HTML NOW
// Or hide it with: languageSelect.style.display = 'none';
    </script>
</body>
</html>

