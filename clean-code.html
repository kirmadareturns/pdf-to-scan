<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Strip comments from HTML, CSS, and JavaScript instantly. Free, client-side code comment remover reduces file size while preserving functionality.">
    <meta name="keywords" content="comment stripper, code minifier, remove comments, HTML CSS JS, code optimization, file size reduction">
    <meta name="author" content="Code Comment Stripper">
    <meta name="theme-color" content="#0a0a0a">
    <meta property="og:title" content="Code Comment Stripper - Remove Comments from HTML, CSS, JS">
    <meta property="og:description" content="Instantly strip all comments from your HTML, CSS, and JavaScript code. Free, 100% client-side processing.">
    <meta property="og:type" content="website">
    <title>Code Comment Stripper - Free Online Tool</title>
    <style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html, body {
    height: 100%;
    font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
    background: #1e1e1e;
    color: #e0e0e0;
    line-height: 1.6;
    text-shadow: 0 0 15px rgba(224, 224, 224, 0.5), 0 0 30px rgba(0, 245, 255, 0.1);
}

body {
    display: flex;
    flex-direction: column;
}

.header {
    padding: 28px 40px;
    background: #1e1e1e;
    border-bottom: 2px solid #2d2d2d;
    box-shadow: 0 0 30px rgba(255, 29, 88, 0.1);
}

.header h1 {
    font-size: 22px;
    font-weight: 700;
    color: #FF1D58;
    margin-bottom: 6px;
    letter-spacing: 0.5px;
    text-shadow: 0 0 20px #FF1D58, 0 0 40px rgba(255, 29, 88, 0.8), 0 0 60px rgba(255, 29, 88, 0.5);
    animation: glow 2s ease-in-out infinite;
}

.header p {
    font-size: 14px;
    color: #e0e0e0;
    font-weight: 500;
    text-shadow: 0 0 15px rgba(224, 224, 224, 0.5), 0 0 30px rgba(0, 245, 255, 0.2);
}

@keyframes glow {
    0%, 100% {
        text-shadow: 0 0 20px #FF1D58, 0 0 40px rgba(255, 29, 88, 0.8);
    }
    50% {
        text-shadow: 0 0 30px #FF1D58, 0 0 60px rgba(255, 29, 88, 1);
    }
}

.highlight {
    padding: 2px 4px;
    border-radius: 3px;
    font-weight: 600;
    background: transparent;
    color: inherit;
}

.main-content {
    flex: 1;
    padding: 40px;
    max-width: 900px;
    margin: 0 auto;
    width: 100%;
}

.tool-wrapper {
    background: #1e1e1e;
    border: 2px solid #2d2d2d;
    border-radius: 10px;
    padding: 40px;
    margin-bottom: 40px;
    box-shadow: 0 0 40px rgba(0, 245, 255, 0.1), 0 0 80px rgba(181, 55, 242, 0.05);
    transition: all 0.3s ease;
}

.tool-wrapper:hover {
    border-color: #00F5FF;
    box-shadow: 0 0 60px rgba(0, 245, 255, 0.3), 0 0 100px rgba(181, 55, 242, 0.1);
}

.form-group {
    margin-bottom: 28px;
}

.form-label {
    display: block;
    font-size: 13px;
    font-weight: 700;
    text-transform: uppercase;
    color: #e0e0e0;
    margin-bottom: 12px;
    letter-spacing: 0.5px;
    text-shadow: 0 0 15px rgba(224, 224, 224, 0.4), 0 0 25px rgba(0, 245, 255, 0.2);
    transition: all 0.3s ease;
}

.form-label:hover {
    color: #00F5FF;
    text-shadow: 0 0 20px rgba(0, 245, 255, 0.8), 0 0 40px rgba(0, 245, 255, 0.4);
}

.language-select {
    width: 100%;
    padding: 14px 16px;
    background: #252526;
    border: 2px solid #3e3e42;
    border-radius: 8px;
    color: #e0e0e0;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-family: 'Segoe UI', sans-serif;
    font-weight: 500;
    text-shadow: 0 0 10px rgba(224, 224, 224, 0.3);
    box-shadow: 0 0 10px rgba(0, 245, 255, 0.1);
}

.language-select:hover {
    border-color: #00F5FF;
    background: #2d2d30;
    box-shadow: 0 0 20px rgba(0, 245, 255, 0.4), 0 0 40px rgba(0, 245, 255, 0.2);
    transform: translateY(-2px);
}

.language-select:focus {
    outline: none;
    border-color: #00F5FF;
    background: #2d2d30;
    box-shadow: 0 0 30px rgba(0, 245, 255, 0.6), 0 0 60px rgba(0, 245, 255, 0.3);
}

.language-select option {
    background: #1e1e1e;
    color: #e0e0e0;
    text-shadow: 0 0 8px rgba(224, 224, 224, 0.3);
}

.upload-zone {
    border: 2px dashed #3e3e42;
    border-radius: 10px;
    padding: 40px 30px;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s ease;
    background: #252526;
    margin-bottom: 14px;
    box-shadow: 0 0 15px rgba(0, 245, 255, 0.05);
}

.upload-zone:hover {
    border-color: #FF1D58;
    background: #2d2d30;
    box-shadow: 0 0 30px rgba(255, 29, 88, 0.3), 0 0 50px rgba(255, 29, 88, 0.1);
    transform: scale(1.02);
}

.upload-zone.dragover {
    border-color: #00F5FF;
    background: #2d2d30;
    box-shadow: 0 0 50px rgba(0, 245, 255, 0.5), 0 0 80px rgba(0, 245, 255, 0.2);
    transform: scale(1.05);
}

.upload-text-main {
    font-size: 15px;
    color: #e0e0e0;
    margin-bottom: 6px;
    font-weight: 600;
    text-shadow: 0 0 15px rgba(224, 224, 224, 0.5), 0 0 30px rgba(0, 245, 255, 0.2);
    transition: all 0.3s ease;
}

.upload-zone:hover .upload-text-main {
    color: #FF1D58;
    text-shadow: 0 0 20px #FF1D58, 0 0 40px rgba(255, 29, 88, 0.4);
}

.upload-text-sub {
    font-size: 13px;
    color: #b0b0b0;
    font-weight: 500;
    text-shadow: 0 0 10px rgba(176, 176, 176, 0.3);
}

input[type="file"] {
    display: none;
}

textarea {
    width: 100%;
    min-height: 180px;
    max-height: 400px;
    padding: 16px;
    background: #252526;
    border: 2px solid #3e3e42;
    border-radius: 8px;
    color: #e0e0e0;
    font-family: 'Monaco', 'Menlo', 'Courier New', monospace;
    font-size: 13px;
    resize: vertical;
    transition: all 0.3s ease;
    font-weight: 500;
    text-shadow: 0 0 10px rgba(224, 224, 224, 0.2);
    box-shadow: 0 0 15px rgba(0, 245, 255, 0.1);
}

textarea:hover {
    border-color: #00F5FF;
    box-shadow: 0 0 25px rgba(0, 245, 255, 0.3);
}

textarea:focus {
    outline: none;
    border-color: #00F5FF;
    background: #2d2d30;
    box-shadow: 0 0 40px rgba(0, 245, 255, 0.5), 0 0 80px rgba(0, 245, 255, 0.2);
}

textarea::placeholder {
    color: #707070;
    font-weight: 500;
    text-shadow: 0 0 8px rgba(112, 112, 112, 0.2);
}

.button-group {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 14px;
    margin-top: 24px;
}

button {
    padding: 14px 24px;
    background: #00F5FF;
    color: #000;
    border: none;
    border-radius: 8px;
    font-size: 13px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
    text-transform: uppercase;
    letter-spacing: 0.4px;
    font-family: 'Segoe UI', sans-serif;
    text-shadow: 0 0 8px rgba(0, 0, 0, 0.3);
    box-shadow: 0 0 20px rgba(0, 245, 255, 0.5), 0 0 40px rgba
(0, 245, 255

, 0.2);
}

button:hover {
background: #00E0FF;
transform: translateY(-3px) scale(1.05);
box-shadow: 0 0 30px rgba(0, 245, 255, 0.8), 0 0 60px rgba(0, 245, 255, 0.4);
}

button:active {
transform: translateY(-1px);
}

button:focus {
outline: 2px solid #00F5FF;
outline-offset: 3px;
box-shadow: 0 0 40px rgba(0, 245, 255, 1), 0 0 80px rgba(0, 245, 255, 0.5);
}

button.secondary {
background: #1e1e1e;
color: #e0e0e0;
border: 2px solid #3e3e42;
text-shadow: 0 0 10px rgba(224, 224, 224, 0.3);
box-shadow: 0 0 15px rgba(224, 224, 224, 0.1);
}

button.secondary:hover {
background: #2d2d30;
border-color: #00F5FF;
box-shadow: 0 0 25px rgba(0, 245, 255, 0.4), 0 0 50px rgba(0, 245, 255, 0.2);
transform: translateY(-3px) scale(1.05);
}

.alert {
padding: 14px 16px;
border-radius: 8px;
font-size: 13px;
margin-bottom: 20px;
display: none;
font-weight: 600;
border-left: 4px solid;
}

.alert.show {
display: block;
animation: slideInGlow 0.4s ease;
}

@keyframes slideInGlow {
from {
opacity: 0;
transform: translateY(-10px);
box-shadow: 0 0 0px rgba(0, 245, 255, 0);
}
to {
opacity: 1;
transform: translateY(0);
box-shadow: 0 0 30px rgba(0, 245, 255, 0.3);
}
}

.alert.success {
background: #1e3a1e;
border-color: #00F5FF;
color: #00F5FF;
text-shadow: 0 0 15px #00F5FF;
box-shadow: 0 0 25px rgba(0, 245, 255, 0.4);
}

.alert.error {
background: #3a1e1e;
border-color: #FF1D58;
color: #FF1D58;
text-shadow: 0 0 15px #FF1D58;
box-shadow: 0 0 25px rgba(255, 29, 88, 0.4);
}

.loading {
display: none;
text-align: center;
color: #e0e0e0;
font-size: 13px;
margin: 16px 0;
font-weight: 600;

text-shadow: 0 0 15px rgba(224, 224, 224, 0.4), 0 0 30px rgba(0, 245, 255, 0.2);
animation: pulse 2s ease-in-out infinite;
}

@keyframes pulse {
0%, 100% {
opacity: 0.8;
}
50% {
opacity: 1;
}
}

.spinner {
display: inline-block;
width: 16px;
height: 16px;
border: 2px solid #3e3e42;
border-top-color: #00F5FF;
border-radius: 50%;
animation: spin 0.7s linear infinite;
margin-right: 8px;
vertical-align: middle;
box-shadow: 0 0 15px rgba(0, 245, 255, 0.5);
}

@keyframes spin {
to { transform: rotate(360deg); }
}

.stats-grid {
display: grid;
grid-template-columns: 1fr 1fr;
gap: 16px;
margin-top: 24px;
}

.stat-card {
background: #252526;
border: 2px solid #3e3e42;
border-radius: 8px;
padding: 20px;
text-align: center;
transition: all 0.3s ease;
box-shadow: 0 0 20px rgba(0, 245, 255, 0.1);
}

.stat-card:hover {
border-color: #FF1D58;
transform: translateY(-5px) scale(1.05);
box-shadow: 0 0 40px rgba(255, 29, 88, 0.4), 0 0 60px rgba(0, 245, 255, 0.2);
}

.stat-label {
font-size: 12px;
color: #e0e0e0;
text-transform: uppercase;
letter-spacing: 0.5px;
margin-bottom: 8px;
font-weight: 700;
text-shadow: 0 0 12px rgba(224, 224, 224, 0.3);
}

.stat-value {
font-size: 24px;
font-weight: 700;
color: #00F5FF;
font-family: 'Monaco', monospace;
text-shadow: 0 0 20px #00F5FF, 0 0 40px rgba(0, 245, 255, 0.6), 0 0 60px rgba(0, 245, 255, 0.3);
animation

: colorPulse 3s ease-in-out infinite;
}

@keyframes colorPulse {
0%, 100% {
text-shadow: 0 0 20px #00F5FF, 0 0 40px rgba(0, 245, 255, 0.6);
}
50% {
text-shadow: 0 0 30px #

00F5FF, 0 0 60px rgba(0, 245, 255, 0.8);
}
}

.stat-reduction {
font-size: 13px;
color: #FF1D58;
margin-top: 6px;
font-weight: 600;
text-shadow: 0 0 12px #FF1D58;
}

.output-section {
display: none;
}

.output-section.active {
display: block;
}

.output-section textarea {
min-height: 200px;
margin-top: 12px;
margin-bottom: 20px;
}

.footer {
padding: 40px;
background: #1e1e1e;
border-top: 2px solid #2d2d2d;
box-shadow: 0 0 30px rgba(181, 55, 242, 0.05);
}

.seo-content {
max-width: 900px;
margin: 0 auto;
}

details {
margin-bottom: 14px;
}

summary {
cursor: pointer;
padding: 16px;
background: #252526;
border: 2px solid #3e3e42;
border-radius: 8px;
font-weight: 600;
font-size: 13px;
color: #e0e0e0;
user-select: none;
transition: all 0.3s ease;
text-transform: uppercase;
letter-spacing: 0.4px;
text-shadow: 0 0 12px rgba(224, 224, 224, 0.3);
box-shadow: 0 0 15px rgba(0, 245, 255, 0.05);
}

summary:hover {
background: #2d2d30;
border-color: #00F5FF;
color: #00F5FF;
transform: translateX(5px);
box-shadow: 0 0 30px rgba(0, 245, 255, 0.3);

text-shadow: 0 0 20px rgba(0, 245, 255, 0.8);
}

summary:focus {
outline: 2px solid #FF1D58;
outline-offset: 2px;
box-shadow: 0 0 40px rgba

(255, 29, 88, 0.4);
}

.seo-content-inner {
padding: 20px;
background: #252526;
border: 2px solid #3e3e42;
border-top: none;
border-radius: 0 0 8px 8px;
font-size: 13px;
color: #d0d0d0;
line-height: 1.8;
font-weight: 500;
text-shadow: 0 0 10px rgba(208, 208, 208, 0.2);
box-shadow: 0 0 20px rgba(181, 55, 242, 0.1);
}

.seo-content-inner h3 {
color: #FF1D58;
margin-top: 16px;
margin-bottom: 10px;
font-size: 13px;
font-weight: 700;
text-shadow: 0 0 15px #FF1D58, 0 0 30px rgba(255, 29, 88, 0.3);
}

.seo-content-inner h3:first-child {
margin-top: 0;
}

.seo-content-inner ul {
margin-left: 20px;
margin-bottom: 14px;
}

.seo-content-inner li {
margin-bottom: 6px;
color: #d0d0d0;
font-weight: 500;
text-shadow: 0 0 10px rgba(208, 208, 208, 0.15);
transition: all 0.2s ease;
}

.seo-content-inner li:hover {
color: #00F5FF;
text-shadow: 0 0 15px #00F5FF;
}

.seo-content-inner p {
margin-bottom: 14px;
color: #d0d0d0;
font-weight: 500;
text-shadow: 0 0 10px rgba(208, 208, 208, 0.15);
}

.seo-content-inner code {
background: #1e1e1e;
padding: 3px 6px;
border-radius: 4px;
font-family: 'Monaco', monospace;
color: #B537F2;
font-size: 12px;
border-left: 3px solid #00F5FF;
font-weight: 600

;
text-shadow: 0 0 12px #B537F2;
box-shadow: 0 0 10px rgba(181, 55, 242, 0.2);
transition: all 0.2s ease;
}

.seo-content-inner code:hover {
box-shadow: 0 0 20px rgba(181, 55, 242, 0.5);
}

@media (max-width: 768px) {
.header {
padding: 24px 20px;
}

.header h1 {
    font-size: 20px;
}

.header p {
    font-size: 13px;
}

.main-content {
    padding: 20px;
}

.tool-wrapper {
    padding: 24px;
}

.upload-zone {
    padding: 30px 20px;
}

.button-group {
    grid-template-columns: 1fr;
}

.stats-grid {
    grid-template-columns: 1fr;
}

textarea {
    min-height: 140px;
    font-size: 12px;
}

.stat-value {
    font-size: 20px;
}

.form-group {
    margin-bottom: 20px;
}

.footer {
    padding: 24px 20px;
}
}

@media (max-width: 480px) {
.header {
padding: 20px 16px;
}

.header h1 {
    font-size: 18px;
}

.main-content {
    padding: 16px;
}

.tool-wrapper {
    padding: 20px;
}

textarea {
    min-height: 120px;
}

button {
    padding: 12px 20px;
    font-size: 12px;
}
}


</style>
</head>
<body>
    <div class="header">
        <h1><span class="highlight cyan">Code Comment Stripper</span></h1>
        <p><span class="highlight orange">Remove comments from HTML, CSS, and JavaScript instantly</span></p>
    </div>

    <div class="main-content">
        <div class="tool-wrapper">
            <div class="alert" id="alert"></div>

            <div class="form-group">
                <label for="languageSelect" class="form-label"><span class="highlight cyan">Select Language</span></label>
                <select class="language-select" id="languageSelect">
                    <option value="auto">Auto-Detect</option>
                    <option value="html">HTML</option>
                    <option value="css">CSS</option>
                    <option value="javascript">JavaScript</option>
                </select>
            </div>

            <div class="form-group">
                <label for="inputCode" class="form-label"><span class="highlight cyan">Your Code</span></label>
                <div class="upload-zone" id="uploadZone" tabindex="0" role="button" aria-label="Upload file or drag and drop">
                    <p class="upload-text-main">Click to upload or drag and drop</p>
                    <p class="upload-text-sub">.html, .css, .js files • up to 50MB</p>
                    <input type="file" id="fileInput" accept=".html,.css,.js,text/html,text/css,text/javascript">
                </div>
                <textarea id="inputCode" placeholder="Or paste your code here..." aria-label="Code input area"></textarea>
            </div>

            <div class="button-group">
                <button onclick="stripComments()" aria-label="Strip comments from code">Strip Comments</button>
                <button class="secondary" onclick="clearAll()" aria-label="Clear all fields">Clear All</button>
            </div>

            <div class="loading" id="loading">
                <span class="spinner"></span>Processing...
            </div>

            <div class="stats-grid" id="stats" style="display: none;">
                <div class="stat-card">
                    <div class="stat-label">File Size Before</div>
                    <div class="stat-value" id="beforeSize">0 B</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">File Size After</div>
                    <div class="stat-value" id="afterSize">0 B</div>
                    <div class="stat-reduction" id="reduction">0% reduction</div>
                </div>
            </div>

            <div class="output-section" id="outputSection">
                <label for="outputCode" class="form-label"><span class="highlight purple">Result</span></label>
                <textarea id="outputCode" placeholder="Stripped code will appear here..." readonly aria-label="Code
output area"></textarea>
<div class="button-group">
<button onclick="copyToClipboard()" aria-label="Copy output code to clipboard">Copy Code</button>
<button class="secondary" onclick="downloadCode()" aria-label="Download stripped code file">Download</button>
</div>
</div>
</div>
</div>

    <div class="footer">
        <div class="seo-content">
            <details>
                <summary>What is Code Comment Stripping?</summary>
                <div class="seo-content-inner">
                    <p>Code comment stripping is the process of removing all non-functional comments from your HTML, CSS, and JavaScript source code while preserving the functionality of the code itself. Comments are helpful during development for explaining logic and documenting code, but they add unnecessary file size for production environments.</p>
                    <p>This tool automatically detects and removes comments while maintaining the exact functionality of your code, resulting in smaller file sizes and faster load times for your web applications.</p>
                </div>
            </details>

            <details>
                <summary>Why Remove Comments?</summary>
                <div class="seo-content-inner">
                    <h3>Key Benefits</h3>
                    <ul>
                        <li>Reduce File Size: Comments can account for 5-20% of code size, decreasing bandwidth usage and load times.</li>
                        <li>Faster Load Times: Smaller files mean quicker downloads and faster page rendering, improving SEO.</li>
                        <li>Code Protection: Remove implementation details and internal logic explanations for added security.</li>
                        <li>Production Best Practice: Standard for production deployments where comments are unnecessary.</li>
                        <li>Reduced Bandwidth Costs: File size reduction directly impacts hosting costs on high-traffic sites.</li>
                    </ul>
                </div>
            </details>

            <details>
                <summary>How It Works</summary>
                <div class="seo-content-inner">
                    <h3>HTML Comments</h3>
                    <p>Removes all <code>&lt;!-- --&gt;</code> comment blocks while preserving conditional comments.</p>
                    <h3>CSS Comments</h3>
                    <p>Removes <code>/* */</code> block comments and <code>//</code> single-line comments safely.</p>
                    <h3>JavaScript Comments</h3>
                    <p>Intelligently removes <code>/* */</code> and <code>//</code> comments while preserving regex patterns and strings.</p>
                    <h3>100% Client-Side</h3>
                    <p>All processing happens in your browser. Your code never leaves your computer—complete privacy guaranteed.</p>
                </div>
            </details>

            <details>
                <summary>Use Cases</summary>
                <div class="seo-content-inner">
                    <ul>
                        <li>Pre-Deployment: Strip comments before pushing to production.</li>
                        <li>Code Obfuscation: Remove comments as part of code protection and IP safeguarding.</li>
                        <li>Performance Optimization: Reduce file sizes in your optimization pipeline.</li>
                        <li>Batch Processing: Process multiple files to measure total bandwidth savings.</li>
                        <li>API Responses: Clean up endpoint responses before serving to clients.</li>
                        <li>Minification Pipeline: Use as a preliminary step before full minification.</li>
                    </ul>
                </div>
            </details>

            <details>
                <summary>Technical Details</summary>
                <div class="seo-content-inner">
                    <h3>What We Preserve</h3>
                    <ul>
                        <li>All functional code syntax</li>
                        <li>String literals and template literals</li>
                        <li>Regular expressions and patterns</li>
                        <li>Code structure and indentation</li>
                        <li>URLs with <code>//</code> protocol notation</li>
                    </ul>
                    <h3>Language Support</h3>
                    <ul>
                        <li>HTML5 with DOCTYPE handling</li>
                        <li>CSS3 with media queries and custom properties</li>
                        <li>JavaScript ES5 through ES2023</li>
                        <li>Automatic file type detection</li>
                    </ul>
                    <h3>Performance</h3>
                    <p>Processes files instantly using optimized parsing. Handles files up to 50MB with zero performance impact.</p>
                </div>
            </details>
        </div>
    </div>
    <script>
        const uploadZone = document.getElementById('uploadZone');
        const fileInput = document.getElementById('fileInput');
        const inputCode = document.getElementById('inputCode');
        const outputCode = document.getElementById('outputCode');
        const languageSelect = document.getElementById('languageSelect');
        const outputSection = document.getElementById('outputSection');
        const stats = document.getElementById('stats');
        const loading = document.getElementById('loading');
        const alert = document.getElementById('alert');

        uploadZone.addEventListener('click', () => fileInput.click());
        uploadZone.addEventListener('keypress', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                fileInput.click();
            }
        });
        uploadZone.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadZone.classList.add('dragover');
        });
        uploadZone.addEventListener('dragleave', () => {
            uploadZone.classList.remove('dragover');
        });
        uploadZone.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadZone.classList.remove('dragover');
            const files = e.dataTransfer.files;
            if (files.length > 0) handleFile(files[0]);
        });

        fileInput.addEventListener('change', (e) => {
            if (e.target.files.length > 0) handleFile(e.target.files[0]);
        });

        function handleFile(file) {
            if (file.size > 50 * 1024 * 1024) {
                showAlert('File size exceeds 50MB limit', 'error');
                return;
            }
            const reader = new FileReader();
            reader.onload = (e) => {
                inputCode.value = e.target.result;
                const ext = file.name.split('.').pop().toLowerCase();
                if (['html', 'css', 'js'].includes(ext)) {
                    languageSelect.value = ext;
                }
                showAlert(`Loaded ${file.name} (${formatBytes(file.size)})`, 'success');
            };
            reader.readAsText(file);
        }

        function detectLanguage(code) {
            const htmlPatterns = /<!DOCTYPE|<html|<head|<body|<\/html>/i;
            const cssPatterns = /(body\s*{|@media|@import|@keyframes)/;
            const jsPatterns = /(function|const|let|var|=>|import|export)/;

            if (htmlPatterns.test(code)) return 'html';
            if (cssPatterns.test(code)) return 'css';
            if (jsPatterns.test(code)) return 'javascript';
            return 'javascript';
        }

        function stripComments() {
            const code = inputCode.value.trim();
            if (!code) {
                showAlert('Please paste or upload code first', 'error');
                return;
            }

            loading.style.display = 'block';
            outputSection.classList.remove('active');

            setTimeout(() => {
                let language = languageSelect.value;
                if (language === 'auto') {
                    language = detectLanguage(code);
                }

                let stripped = '';
                try {
                    if (language === 'html') {
                        stripped = stripHTMLComments(code);
                    } else if (language === 'css') {
                        stripped = stripCSSComments(code);
                    } else if (language === 'javascript') {
                        stripped = stripJSComments(code);
                    }

                    outputCode.value = stripped;
                    updateStats(code, stripped);
                    outputSection.classList.add('active');
                    showAlert('Comments stripped successfully', 'success');
                } catch (e) {
                    showAlert('Error processing code: ' + e.message, 'error');
                }
                loading.style.display = 'none';
            }, 100);
        }

        function stripHTMLComments(code) {
            return code.replace(/<!--[\s\S]*?-->/g, '');
        }

        function stripCSSComments(code) {
            return code.replace(/\/\*[\s\S]*?\*\//g, '').replace(/\/\/.*$/gm, '');
        }

        function stripJSComments(code) {
            let result = '';
            let inString = false;
            let stringChar = '';
            let inTemplate = false;
            let i = 0;

            while (i < code.length) {
                const char = code[i];
                const nextChar = code[i + 1];
                const prevChar = i > 0 ? code[i - 1] : '';

                if (char === '`' && (i === 0 || prevChar !== '\\')) {
                    inTemplate = !inTemplate;
                    result += char;
                    i++;
                    continue;
                }

                if (inTemplate) {
                    result += char;
                    i++;
                    continue;
                }

                if ((char === '"' || char === "'" || char === '`') && (i === 0 || prevChar !== '\\')) {
                    if (!inString) {
                        inString = true;
                        stringChar = char;
                    } else if (char === stringChar) {
                        inString = false;
                    }
                    result += char;
                    i++;
                    continue;
                }

                if (inString) {
                    result += char;
                    i++;
                    continue;
                }

                if (char === '/' && nextChar === '*') {
                    let end = code.indexOf('*/', i + 2);
                    if (end !== -1) {
                        i = end + 2;
                        continue;
                    }
                }

                if (char === '/' && nextChar === '/') {
                    let end = code.indexOf('\n', i);
                    if (end === -1) {
                        break;
                    }
                    i = end + 1;
                    result += '\n';
                    continue;
                }

                result += char;
                i++;
            }

            return result;
        }

        function updateStats(before, after) {
            const beforeSize = new Blob([before]).size;
            const afterSize = new Blob([after]).size;
            const reduction = ((1 - afterSize / beforeSize) * 100).toFixed(1);

            document.getElementById('beforeSize').textContent = formatBytes(beforeSize);
            document.getElementById('afterSize').textContent = formatBytes(afterSize);
            document.getElementById('reduction').textContent = `${reduction}% reduction`;

            stats.style.display = 'grid';
        }

        function formatBytes(bytes) {
            if (bytes === 0) return '0 B';
            const k = 1024;
            const sizes = ['B', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        function copyToClipboard() {
            outputCode.select();
            document.execCommand('copy');
            showAlert('Code copied to clipboard', 'success');
        }

        function downloadCode() {
            const ext = languageSelect.value === 'auto' ? 'txt' : languageSelect.value;
            const filename = `stripped-code.${ext}`;
            const blob = new Blob([outputCode.value], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            a.click();
            URL.revokeObjectURL(url);
            showAlert(`Downloaded as ${filename}`, 'success');
        }

        function clearAll() {
            inputCode.value = '';
            outputCode.value = '';
            languageSelect.value = 'auto';
            outputSection.classList.remove('active');
            stats.style.display = 'none';
            alert.classList.remove('show');
        }

        function showAlert(message, type) {
            alert.textContent = message;
            alert.className = `alert show ${type}`;
            setTimeout(() => alert.classList.remove('show'), 3000);
        }
    </script>
</body>
</html>