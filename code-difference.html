<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Myers Diff Text Compare</title>
    <script src="https://cdn.jsdelivr.net/npm/diff@5.2.0/diff.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; max-width: 1200px; margin: 0 auto; padding: 20px; }
        textarea { width: 100%; height: 200px; margin: 10px 0; font-family: monospace; }
        button { padding: 10px 20px; background: #007bff; color: white; border: none; cursor: pointer; }
        button:hover { background: #0056b3; }
        .diff-container { display: flex; gap: 20px; }
        .diff-panel { flex: 1; }
        .diff-panel h3 { margin: 0 0 10px; }
        .line { display: flex; align-items: baseline; }
        .added { background: #d4edda; color: #155724; }
        .removed { background: #f8d7da; color: #721c24; }
        .equal { background: #f8f9fa; }
        .line-number { font-family: monospace; color: #6c757d; padding-right: 10px; min-width: 40px; text-align: right; }
        .content { flex: 1; white-space: pre-wrap; }
    </style>
</head>
<body>
    <h1>Client-Side Myers Diff Comparator</h1>
    <p>Paste two texts below to see precise differences using kpdecker/jsdiff (Myers algorithm).</p>
    
    <textarea id="text1" placeholder="Original text...">Hello world\nThis is line 2.</textarea>
    <textarea id="text2" placeholder="Modified text...">Hello worlds!\nThis is line 2.\nNew line added.</textarea>
    
    <button onclick="compareTexts()">Compare</button>
    
    <div id="result"></div>

    <script>
        function compareTexts() {
            const text1 = document.getElementById('text1').value;
            const text2 = document.getElementById('text2').value;
            const diff = Diff.diffLines(text1, text2);
            
            let html = '<div class="diff-container">';
            diff.forEach((part, index) => {
                const panelClass = part.added ? 'added' : part.removed ? 'removed' : 'equal';
                const lines = part.value.split('\n');
                html += `<div class="diff-panel ${panelClass}">`;
                html += `<h3>${part.added ? 'Added' : part.removed ? 'Removed' : 'Unchanged'}</h3>`;
                
                lines.forEach((line, i) => {
                    if (line || i < lines.length - 1) {
                        html += `<div class="line">
                            <span class="line-number">${i + 1}</span>
                            <span class="content">${line}</span>
                        </div>`;
                    }
                });
                html += '</div>';
            });
            html += '</div>';
            
            document.getElementById('result').innerHTML = html;
        }
        
        // Auto-compare on load
        window.onload = compareTexts;
    </script>
</body>
</html>
