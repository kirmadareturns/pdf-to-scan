<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hindi to Hinglish Converter</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: system-ui, -apple-system, sans-serif;
      background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 50%, #0f172a 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    .container { width: 100%; max-width: 900px; }
    h1 { color: #e2e8f0; text-align: center; margin-bottom: 30px; font-size: 1.8rem; }
    .converter { display: flex; gap: 20px; flex-direction: column; }
    @media (min-width: 768px) { .converter { flex-direction: row; } }
    .box {
      flex: 1;
      background: rgba(30, 41, 59, 0.7);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(71, 85, 105, 0.5);
      border-radius: 16px;
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }
    .box-header {
      background: rgba(15, 23, 42, 0.5);
      padding: 12px 16px;
      border-bottom: 1px solid rgba(71, 85, 105, 0.3);
      color: #e2e8f0;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .dot { width: 8px; height: 8px; border-radius: 50%; }
    .input-box .dot { background: #ec4899; }
    .output-box .dot { background: #6366f1; }
    textarea {
      flex: 1;
      min-height: 200px;
      background: transparent;
      border: none;
      padding: 20px;
      color: #fff;
      font-size: 1.2rem;
      resize: none;
      outline: none;
    }
    textarea::placeholder { color: #64748b; }
    .output-box textarea { color: #c7d2fe; }
    .btn-container { display: flex; justify-content: center; align-items: center; padding: 10px 0; gap: 10px; }
    @media (min-width: 768px) { .btn-container { flex-direction: column; } }
    button {
      background: linear-gradient(135deg, #6366f1, #8b5cf6);
      color: white;
      border: none;
      padding: 16px 32px;
      border-radius: 50px;
      font-size: 1rem;
      cursor: pointer;
      transition: transform 0.2s;
    }
    button:hover:not(:disabled) { transform: scale(1.05); }
    button:active:not(:disabled) { transform: scale(0.95); }
    button:disabled { opacity: 0.5; cursor: not-allowed; }
    .clear-btn { background: transparent; border: 1px solid #475569; color: #94a3b8; }
    .clear-btn:hover:not(:disabled) { color: #e2e8f0; border-color: #64748b; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Hindi to Hinglish Converter</h1>
    <div class="converter">
      <div class="box input-box">
        <div class="box-header"><span class="dot"></span>Hindi (Devanagari)</div>
        <textarea id="input" placeholder="यहाँ टाइप करें... (Type here)"></textarea>
      </div>
      <div class="btn-container">
        <button id="convertBtn">Convert →</button>
        <button id="clearBtn" class="clear-btn">Clear</button>
      </div>
      <div class="box output-box">
        <div class="box-header"><span class="dot"></span>Hinglish (Roman)</div>
        <textarea id="output" placeholder="Result will appear here..." readonly></textarea>
      </div>
    </div>
  </div>
  <script>
    const input = document.getElementById('input');
    const output = document.getElementById('output');
    const convertBtn = document.getElementById('convertBtn');
    const clearBtn = document.getElementById('clearBtn');

    // Comprehensive Devanagari to Roman transliteration map
    const transliterationMap = {
      // Vowels
      'अ': 'a', 'आ': 'aa', 'इ': 'i', 'ई': 'ee', 'उ': 'u', 'ऊ': 'oo',
      'ए': 'e', 'ऐ': 'ai', 'ओ': 'o', 'औ': 'au',
      'ऋ': 'ri', 'ॠ': 'ree',
      
      // Consonants
      'क': 'k', 'ख': 'kh', 'ग': 'g', 'घ': 'gh', 'ङ': 'ng',
      'च': 'ch', 'छ': 'chh', 'ज': 'j', 'झ': 'jh', 'ञ': 'ny',
      'ट': 't', 'ठ': 'th', 'ड': 'd', 'ढ': 'dh', 'ण': 'n',
      'त': 't', 'थ': 'th', 'द': 'd', 'ध': 'dh', 'न': 'n',
      'प': 'p', 'फ': 'ph', 'ब': 'b', 'भ': 'bh', 'म': 'm',
      'य': 'y', 'र': 'r', 'ल': 'l', 'व': 'v', 'श': 'sh',
      'ष': 'sh', 'स': 's', 'ह': 'h',
      'क़': 'q', 'ख़': 'kh', 'ग़': 'gh', 'ज़': 'z', 'ड़': 'r', 'ढ़': 'rh',
      'फ़': 'f', 'य़': 'y',
      
      // Vowel signs (matras)
      'ा': 'aa', 'ि': 'i', 'ी': 'ee', 'ु': 'u', 'ू': 'oo',
      'े': 'e', 'ै': 'ai', 'ो': 'o', 'ौ': 'au',
      'ृ': 'ri', 'ॄ': 'ree',
      
      // Special characters
      'ं': 'n', 'ः': 'h', 'ँ': 'n', '़': '', '्': '',
      'ॐ': 'om',
      
      // Numbers
      '०': '0', '१': '1', '२': '2', '३': '3', '४': '4',
      '५': '5', '६': '6', '७': '7', '८': '8', '९': '9'
    };

    function convertToHinglish() {
      const text = input.value.trim();
      if (!text) {
        output.value = '';
        return;
      }

      try {
        let result = '';
        let i = 0;
        
        while (i < text.length) {
          let char = text[i];
          let matched = false;
          
          // Check for two-character combinations first
          if (i < text.length - 1) {
            let twoChar = text[i] + text[i + 1];
            if (transliterationMap[twoChar]) {
              result += transliterationMap[twoChar];
              i += 2;
              matched = true;
            }
          }
          
          // If no two-char match, try single character
          if (!matched) {
            if (transliterationMap[char]) {
              // Handle halant (virama) - it removes the implicit 'a'
              if (char === '्') {
                result += transliterationMap[char];
              } else if (i < text.length - 1 && text[i + 1] === '्') {
                // Consonant followed by halant
                result += transliterationMap[char];
              } else if (/[क-ह]/.test(char)) {
                // Consonant without halant - add implicit 'a'
                result += transliterationMap[char] + 'a';
              } else {
                result += transliterationMap[char];
              }
            } else {
              // Keep non-Devanagari characters as-is (spaces, punctuation, etc.)
              result += char;
            }
            i++;
          }
        }
        
        // Clean up the result
        result = result
          .replace(/a([aeiou])/g, '$1')  // Remove 'a' before vowel matras
          .replace(/aa/g, 'a')            // Simplify double 'a'
          .replace(/([^aeiou])a\s/g, '$1 '); // Keep 'a' at word end
        
        output.value = result;
      } catch (error) {
        output.value = 'Error during transliteration.';
        console.error(error);
      }
    }

    convertBtn.addEventListener('click', convertToHinglish);

    clearBtn.addEventListener('click', () => {
      input.value = '';
      output.value = '';
    });

    // Ctrl+Enter (or Cmd+Enter on Mac) to convert
    input.addEventListener('keydown', (e) => {
      if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
        convertToHinglish();
      }
    });

    // Optional: Auto-convert as user types (with debounce)
    let timeout;
    input.addEventListener('input', () => {
      clearTimeout(timeout);
      timeout = setTimeout(convertToHinglish, 300);
    });
  </script>
</body>
</html>
