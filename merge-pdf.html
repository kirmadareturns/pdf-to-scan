<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Merge PDF Online â€“ Free PDF Merger</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>

<style>
body { font-family: Arial, sans-serif; background:#f8f9fa; padding:20px; }
.container { max-width:800px; margin:0 auto; background:#fff; padding:30px; border-radius:12px;
Â  Â  box-shadow:0 2px 8px rgba(0,0,0,.08); }
h1 { text-align:center; margin-bottom:20px; }

.upload {
Â  Â  border:2px dashed #ccc;
Â  Â  padding:30px;
Â  Â  text-align:center;
Â  Â  border-radius:10px;
Â  Â  background:#fafafa;
Â  Â  cursor:pointer;
Â  Â  margin-bottom:20px;
}
.upload:hover { border-color:#A50113; }

.btn {
Â  Â  background:#A50113;
Â  Â  color:#fff;
Â  Â  padding:12px 25px;
Â  Â  border:none;
Â  Â  border-radius:6px;
Â  Â  cursor:pointer;
Â  Â  font-weight:600;
}
.btn:hover { background:#8a0110; }

.file-list { margin-top:15px; }
.file-item {
Â  Â  background:#f1f1f1;
Â  Â  padding:10px;
Â  Â  margin:8px 0;
Â  Â  border-radius:6px;
Â  Â  font-size:14px;
Â  Â  display:flex;
Â  Â  align-items:center;
Â  Â  justify-content:space-between;
Â  Â  cursor:grab;
}
.file-left { display:flex; align-items:center; gap:10px; }

.drag-handle {
Â  Â  cursor:grab;
Â  Â  font-size:18px;
Â  Â  user-select:none;
}

.order-buttons button, .remove-btn {
Â  Â  background:#ddd;
Â  Â  border:none;
Â  Â  padding:5px 8px;
Â  Â  border-radius:4px;
Â  Â  cursor:pointer;
Â  Â  margin-left:4px;
}
.order-buttons button:hover, .remove-btn:hover {
Â  Â  background:#ccc;
}

.progress { display:none; margin-top:20px; }
.progress-bar { width:100%; height:8px; background:#e9ecef; border-radius:10px; overflow:hidden; }
.progress-fill { width:0; height:100%; background:#A50113; transition:width .3s; }

.result { display:none; margin-top:25px; text-align:center; }
</style>
<script async src="https://pagead2.googlesyndication.com/pagead/js?client=ca-pub-6196194515460390"
Â  Â  Â crossorigin="anonymous"></script>

</head>
<body>

<div class="container">
Â  Â  <h1>Merge PDF Files Online</h1>
    <!-- Links inserted with negative margin to use the existing h1 margin, minimizing layout shift -->
    <div style="text-align:center; margin-top: -15px; margin-bottom: 15px;">
        <a href="https://pdftoscan.online/" style="color:#A50113; text-decoration:none; font-size: 14px;">PDF to Scan</a>
        <span style="color:#A50113;"> | </span>
        <a href="https://pdftoscan.online/jpg-to-pdf" style="color:#A50113; text-decoration:none; font-size: 14px;">JPG to PDF</a>
    </div>
Â  Â  <p style="text-align:center;color:#666;">Select multiple PDFs, reorder them, and merge into one file.</p>

Â  Â  <div class="upload" onclick="fileInput.click()">
Â  Â  Â  Â  <p><strong>Click to upload PDFs</strong> or drag & drop</p>
Â  Â  Â  Â  <input type="file" id="fileInput" accept="application/pdf" multiple style="display:none;">
Â  Â  </div>

Â  Â  <div id="fileList" class="file-list"></div>

Â  Â  <div style="text-align:center; margin-top:20px;">
Â  Â  Â  Â  <button class="btn" id="mergeBtn" disabled>Merge PDFs</button>
Â  Â  </div>

Â  Â  <div class="progress" id="progressSection">
Â  Â  Â  Â  <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
Â  Â  Â  Â  <p id="progressText" style="text-align:center;color:#666; margin-top:8px;"></p>
Â  Â  </div>

Â  Â  <div class="result" id="resultSection">
Â  Â  Â  Â  <h3>Merged PDF Ready</h3>
Â  Â  Â  Â  <button class="btn" id="downloadBtn">Download Merged PDF</button>
Â  Â  </div>
</div>

<script>let pdfFiles = [];
const uploadBox = document.querySelector(".upload");const fileInput = document.getElementById("fileInput");const fileList = document.getElementById("fileList");const mergeBtn = document.getElementById("mergeBtn");


// Add a paste listener to the document to handle files from the clipboard (Instruction 3)
document.addEventListener("paste", function(e) {
Â  Â  // Check if the clipboard contains files
Â  Â  if (e.clipboardData && e.clipboardData.files.length > 0) {
Â  Â  Â  Â  // Prevent default action (like pasting text somewhere else)
Â  Â  Â  Â  e.preventDefault();Â 
Â  Â  Â  Â  // Pass the files to the existing handler
Â  Â  Â  Â  handleFiles(e.clipboardData.files);
Â  Â  }
});

// Drag & Drop Upload
uploadBox.addEventListener("dragover", e => e.preventDefault());
uploadBox.addEventListener("drop", e => {
Â  Â  e.preventDefault();
Â  Â  handleFiles(e.dataTransfer.files);
});

// File input upload
fileInput.addEventListener("change", () => handleFiles(fileInput.files));

// Handle selected files
function handleFiles(files) {
Â  Â  Â // Accepted file types for both PDF and Images
Â  Â  const acceptedTypes = ["application/pdf", "image/jpeg", "image/png"];
Â  Â  for (const file of files) {
Â  Â if (acceptedTypes.includes(file.type)) pdfFiles.push(file);
Â  Â  }
Â  Â  renderFileList();
Â  Â  // Enable merge button if two or more files are selected
Â  Â  mergeBtn.disabled = pdfFiles.length < 2;
}

// Render list with drag + arrows + delete
function renderFileList() {
Â  Â  fileList.innerHTML = "";

Â  Â  pdfFiles.forEach((file, index) => {
Â  Â  Â  Â  const div = document.createElement("div");
Â  Â  Â  Â  div.className = "file-item";
Â  Â  Â  Â  div.draggable = true;
Â  Â  Â  Â  div.dataset.index = index;

        // FIX: Define typeIndicator based on file type
        let typeIndicator = file.type.startsWith("image/") ? 'ğŸ–¼ï¸' : 'ğŸ“„';

Â  Â  Â  Â  div.innerHTML = `
Â  Â  Â  Â  Â  Â  <div class="file-left">
Â  Â  Â  Â  Â  Â  Â  Â  <span class="drag-handle">â˜°</span>
Â  Â  Â  Â  Â  Â  Â  Â  <span>${index + 1}. ${file.name} (${typeIndicator})</span>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div class="order-buttons">
Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="moveUp(${index})">â†‘</button>
Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="moveDown(${index})">â†“</button>
Â  Â  Â  Â  Â  Â  Â  Â  <button class="remove-btn" onclick="removeFile(${index})">âœ•</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  `;

Â  Â  Â  Â  div.addEventListener("dragstart", e => {
Â  Â  Â  Â  Â  Â  e.dataTransfer.setData("index", index);
Â  Â  Â  Â  Â  Â  div.style.opacity = "0.4";
Â  Â  Â  Â  });

Â  Â  Â  Â  div.addEventListener("dragend", () => div.style.opacity = "1");

Â  Â  Â  Â  div.addEventListener("dragover", e => e.preventDefault());

Â  Â  Â  Â  div.addEventListener("drop", e => {
Â  Â  Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  Â  Â  const from = parseInt(e.dataTransfer.getData("index"));
Â  Â  Â  Â  Â  Â  const to = index;
Â  Â  Â  Â  Â  Â  reorderFiles(from, to);
Â  Â  Â  Â  });

Â  Â  Â  Â  fileList.appendChild(div);
Â  Â  });
}

// Move by Dragging
function reorderFiles(from, to) {
Â  Â  const moved = pdfFiles.splice(from, 1)[0];
Â  Â  pdfFiles.splice(to, 0, moved);
Â  Â  renderFileList();
}

// Remove file
function removeFile(index) {
Â  Â  pdfFiles.splice(index, 1);
Â  Â  renderFileList();
Â  Â  mergeBtn.disabled = pdfFiles.length < 2;
}

// Move Up/Down buttons
function moveUp(i) { if (i > 0) reorderFiles(i, i - 1); }
function moveDown(i) { if (i < pdfFiles.length - 1) reorderFiles(i, i + 1); }

async function imageToPdf(imageFile, mergedPdf) {
Â  Â  const imageBytes = await imageFile.arrayBuffer();
Â  Â  // Create a temporary document to hold the single image
Â  Â  const doc = await PDFLib.PDFDocument.create();
Â  Â  const image = imageFile.type === 'image/jpeg'Â 
Â  Â  Â  Â  ? await doc.embedJpg(imageBytes)Â 
Â  Â  Â  Â  : await doc.embedPng(imageBytes);
Â  Â  // Calculate page dimensions to fit the image at its original size
Â  Â  const imgDims = image.scale(1);Â 
Â  Â  const page = doc.addPage([imgDims.width, imgDims.height]);
Â  Â  // Draw the image onto the new page
Â  Â  page.drawImage(image, {
Â  Â  Â  Â  x: 0,
Â  Â  Â  Â  y: 0,
Â  Â  Â  Â  width: imgDims.width,
Â  Â  Â  Â  height: imgDims.height,
Â  Â  });
Â  Â  // Copy the single image-page into the main merged PDF
Â  Â  const pagesToCopy = await mergedPdf.copyPages(doc, [0]);
Â  Â  pagesToCopy.forEach(p => mergedPdf.addPage(p));
}

mergeBtn.onclick = async function () {
Â  Â  const progress = document.getElementById("progressSection");
Â  Â  const fill = document.getElementById("progressFill");
Â  Â  const txt = document.getElementById("progressText");

Â  Â  progress.style.display = "block";
Â  Â  fill.style.width = "0%";
Â  Â  txt.textContent = "Starting...";

Â  Â  const mergedPdf = await PDFLib.PDFDocument.create();

Â  Â  for (let i = 0; i < pdfFiles.length; i++) {
Â  Â  Â  Â  Â const file = pdfFiles[i];
Â  Â  Â  Â  fill.style.width = ((i / pdfFiles.length) * 100) + "%";
Â  txt.textContent = `Processing: ${file.name}`;
Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  if (file.type === "application/pdf") {
Â  Â  Â  Â  Â  Â  Â  Â  // Handle PDF file: Import all pages
Â  Â  Â  Â  Â  Â  Â  Â  const bytes = await file.arrayBuffer();
Â  Â  Â  Â  Â  Â  Â  Â  const pdf = await PDFLib.PDFDocument.load(bytes);
Â  Â  Â  Â  Â  Â  Â  Â  const pages = await mergedPdf.copyPages(pdf, pdf.getPageIndices());
Â  Â  Â  Â  Â  Â  Â  Â  pages.forEach(p => mergedPdf.addPage(p));
Â  Â  Â  Â  Â  Â  } else if (file.type.startsWith("image/")) {
Â  Â  Â  Â  Â  Â  Â  Â  // Handle Image file: Convert to PDF and add
Â  Â  Â  Â  Â  Â  Â  Â  await imageToPdf(file, mergedPdf);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  } catch(error) {
Â  Â  Â  Â  Â  Â  console.error(`Error processing file ${file.name}:`, error);
Â  Â  Â  Â  Â  Â  txt.textContent = `Error processing ${file.name}. Skipping.`;
Â  Â  Â  Â  Â  Â  // Optional: You might want to remove the file from the list or stop the merge here
Â  Â  Â  Â  }
Â  Â  }

Â  Â  fill.style.width = "100%";
Â  Â  txt.textContent = "Finalizing...";

Â  Â  const mergedBytes = await mergedPdf.save();

Â  Â  const blob = new Blob([mergedBytes], { type: "application/pdf" });
Â  Â  const url = URL.createObjectURL(blob);

Â  Â  const result = document.getElementById("resultSection");
Â  Â  result.style.display = "block";

Â  Â  document.getElementById("downloadBtn").onclick = () => {
Â  Â  Â  Â  const a = document.createElement("a");
Â  Â  Â  Â  a.href = url;
Â  Â  Â  Â  a.download = "merged.pdf";
Â  Â  Â  Â  a.click();
Â  Â  };
};
</script>
</body>
</html>


